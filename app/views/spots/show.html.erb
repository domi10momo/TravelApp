<% if current_user %>
  <h5><%= link_to "観光地一覧へ戻る", spots_path %></h5>
<% else %>
  <h5><%= link_to "ホームへ戻る", root_path %></h5>
<% end %>
<div class="row">
  <div class="col-12 col-md-5 col-lg-5">
    <div class="card border-dark mb-3 p-3" style="margin: 1rem">
      <div class="text-center text-secondly">
      <h3><%= @spot.name %></h3>
      </div>
      <%= image_tag @spot.image %>
      <p>住所：<%= @spot.address %></p>
      <p><%= @spot.description %></p>
      <div class="form-group row justify-content-center mt-2">
          <% if user_signed_in? %>
            <% if @wanted_spot_ids.include?(@spot.id) %>
              <%= link_to "「行きたい」を取り消す",
                spot_wants_path(@spot.id),
                method: :delete,
                remote: true,
                class: "btn btn-success spot-buttons"
              %>
            <% else %>
              <%= link_to "「行きたい」に追加する",
                spot_wants_path(@spot.id),
                method: :post,
                remote: true,
                class: "btn btn-success spot-buttons"
              %>
            <% end %>
          <% end %>
        </div>
    </div>
  </div>
  <div class="col-12 col-md-5 col-lg-5 mt-5">
    <div class="col-md-9" id="map" value="<%= @spot.name %>"style="width:620px; height:400px"></div>
    <script type="text/javascript">
      elementMap = document.getElementById("map")

      function initMap() {
        geocoder = new google.maps.Geocoder()
        makePinOnMap(elementMap)
      }
    </script>
    <script async defer type="text/javascript"
      src="<%= @map_url %>&callback=initMap">
    </script>
  </div>
</div>  